<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>VMA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bulma.css">
    <link rel="stylesheet" href="css/spinner.css">
    <style media="screen">
      .activeMenu{
        color: blue !important;
        background: #EBEFF4 !important;
      }
      .codearea {
        background-image: url(http://i.imgur.com/2cOaJ.png);
        background-attachment: local;
        background-repeat: no-repeat;
        background-color: #fce74e;
        padding-left: 35px;
        padding-top: 12px;
        border-color:#ccc;
        font-size: 11px;
        font-family: 'Source Code Pro', monospace;
      }
      .dezi{
        text-align: center;
      }
    </style>
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
  </head>
  <body style="overflow-x: hidden;">

    <div id="loading" style="height: 100vh; width: 100vw; z-index: 1; background: #fff; top: 0; left: 0; overflow-x: hidden; padding-top: 35vh;">

      <div class="cssload-loader">
      	<div class="cssload-inner cssload-one"></div>
      	<div class="cssload-inner cssload-two"></div>
      	<div class="cssload-inner cssload-three"></div>
      </div>

    </div>

     <script src="js/runCodei16.js"></script>

     <script src="js/codeTable.js"></script>

     <script src="http://cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js"></script>

    <script type="text/javascript">

      //Diese Variable beinhaltet die Location des letzten geöffneten Dokuments
      var fileOpen = "";

      //Variablen der Einstellungen
      var delay = localStorage.getItem("delay");
      var codeArea = localStorage.getItem("codeArea");

      //Beim ersten Start werden default Einstellung gesetzt

      if(delay==null){
        localStorage.setItem("delay", "1");
      }

      if(codeArea==null){
        localStorage.setItem("codeArea", "1");
      }

      //Speichert Einstellungen
      function saveS() {

        var app = require('electron').remote;
        var dialog = app.dialog;

        //Check values

        if(delay == document.getElementById("delayS").value&&codeArea == document.getElementById("codeAreaS").value){
          //Keine Änderungen -> Es muss nichts gespeichert werden
          return;
        }
        if(delay != document.getElementById("delayS").value&&document.getElementById("delayS").value == "0"){
          //Delay der Ausführung soll auf 0 Sekunden gesetzt werden -> Warnung ausgeben
          dialog.showMessageBox({
            type: "warning",
            buttons: ["I still want this", "I will overthink my decision"],
            title: "Save settings",
            message: "If you set the delay to 0 seconds it will maybe impossible to stop/pause the code execution, except by refreshing or leaving the site!",
            noLink: true,
            cancelId: 1
          }, (response) => {
            if(response == 1){
              console.log("Nope");
              return;
            }
            else {
              //Show "normal" warning

              dialog.showMessageBox({
                type: "warning",
                buttons: ["I got it", "Wait a sec"],
                title: "Save settings",
                message: "If you save the new settings the site will refresh. Your code in the code area will be deleted if you havn't saved it!",
                noLink: true,
                cancelId: 1
              }, (response) => {
                if(response == 0){
                  //Set new values

                  delay = document.getElementById("delayS").value;
                  codeArea = document.getElementById("codeAreaS").value;

                  localStorage.setItem("delay", document.getElementById("delayS").value);

                  location.reload();
                }
              });
            }
          });
        }

        else {

          //Show "normal" warning

          dialog.showMessageBox({
            type: "warning",
            buttons: ["I got it", "Wait a sec"],
            title: "Save settings",
            message: "If you save the new settings the site will refresh. Your code in the code area will be deleted if you havn't saved it!",
            noLink: true,
            cancelId: 1
          }, (response) => {
            if(response == 0){
              //Set new values

              delay = document.getElementById("delayS").value;
              codeArea = document.getElementById("codeAreaS").value;

              localStorage.setItem("delay", document.getElementById("delayS").value);
              localStorage.setItem("codeArea", document.getElementById("codeAreaS").value);

              location.reload();
            }
          });

        }

      }

      function openGithub() {
        require("electron").shell.openExternal("https://github.com/AlTrAugsburg/virtual-machine-Assembler");
      }
      function openG() {
        require("electron").shell.openExternal("https://github.com/AlTrAugsburg");
      }
      function openF() {
        require("electron").shell.openExternal("https://fonts.google.com/specimen/Source+Code+Pro");
      }
      function openE() {
        require("electron").shell.openExternal("https://bulma.io");
      }
      function openB() {
        require("electron").shell.openExternal("https://electronjs.org");
      }
      function openM() {
        require("electron").shell.openExternal("https://github.com/ccampbell/mousetrap");
      }
      function saveL() {
        if(state != "stop"){

          return;

        }
        var app = require('electron').remote;
        var dialog = app.dialog;
        var fs = require('fs');
        let content = document.getElementById("log").value;

        // You can obviously give a direct path without use the dialog (C:/Program Files/path/myfileexample.txt)
        dialog.showSaveDialog(null, {
          filters: [
            { name: 'Text (*.txt)', extensions: ['txt'] }
          ]
        }, (fileName) => {
            if (fileName === undefined){
                console.log("You didn't save the file");
                return;
            }

            // fileName is a string that contains the path and filename created in the save file dialog.
            fs.writeFile(fileName, content, (err) => {
                if(err){
                    alert("An error ocurred creating the file "+ err.message)
                }

                alert("The file has been succesfully saved");
            });
        });
      }
      function saveA() {
        if(state != "stop"){
          return;
        }
        var app = require('electron').remote;
        var dialog = app.dialog;
        var fs = require('fs');
        let content = document.getElementById("code").value;

        if(fileOpen != ""){

          fs.writeFile(fileOpen, content, (err) => {
              if(err){
                  alert("An error ocurred creating the file "+ err.message)
              }

              alert("The file has been succesfully saved");
          });

        }

        else {

          // You can obviously give a direct path without use the dialog (C:/Program Files/path/myfileexample.txt)
          dialog.showSaveDialog(null, {
            filters: [
              { name: 'Ladon Assembler Code (*.lasm)', extensions: ['lasm'] },
              { name: 'Text File (*.txt)', extensions: ['txt'] }
            ]
          }, (fileName) => {
              if (fileName === undefined){
                  console.log("You didn't save the file");
                  return;
              }

              fileOpen = fileName;

              // fileName is a string that contains the path and filename created in the save file dialog.
              fs.writeFile(fileName, content, (err) => {
                  if(err){
                      alert("An error ocurred creating the file "+ err.message)
                  }

                  alert("The file has been succesfully saved");
              });
          });

        }

      }
      function saveAs() {
        if(state != "stop"){
          return;
        }
        var app = require('electron').remote;
        var dialog = app.dialog;
        var fs = require('fs');
        let content = document.getElementById("code").value;

        // You can obviously give a direct path without use the dialog (C:/Program Files/path/myfileexample.txt)
        dialog.showSaveDialog(null, {
          filters: [
            { name: 'Ladon Assembler Code (*.lasm)', extensions: ['lasm'] },
            { name: 'Text File (*.txt)', extensions: ['txt'] }
          ]
        }, (fileName) => {
            if (fileName === undefined){
                console.log("You didn't save the file");
                return;
            }

            fileOpen = fileName;

            // fileName is a string that contains the path and filename created in the save file dialog.
            fs.writeFile(fileName, content, (err) => {
                if(err){
                    alert("An error ocurred creating the file "+ err.message)
                }

                alert("The file has been succesfully saved");
            });
        });

      }
      function openA() {
        if(state != "stop"){
          return;
        }
        var app = require('electron').remote;
        var dialog1 = app.dialog;
        var fs = require('fs');

        dialog1.showOpenDialog(null, {
          filters: [
            { name: 'Ladon Assembler Code (*.lasm)', extensions: ['lasm'] }
          ]
          },(fileNames) => {
            // fileNames is an array that contains all the selected
            if(fileNames === undefined){
                console.log("No file selected");
                return;
            }

            var fileName = fileNames[0];

            fileOpen = fileNames[0];

            fs.readFile(fileName, 'utf-8', (err, data) => {
                if(err){
                    alert("An error ocurred reading the file :" + err.message);
                    return;
                }

                // Change how to handle the file content
                document.getElementById("code").value = data;
            });
        });
      }

      //Tastaturbefehle

      Mousetrap.bind(['command+s', 'ctrl+s'], () => { saveA(); });
      Mousetrap.bind(['command+alt+s', 'ctrl+alt+s'], () => { saveA(); });
      Mousetrap.bind(['command+o', 'ctrl+o'], () => { openA(); });
      Mousetrap.bind(['command+r', 'ctrl+r'], () => { runCode(); });
      Mousetrap.bind(['ctrl+t'], () => { addRow(); });
      Mousetrap.bind(['ctrl+u'], () => { removeRow(); });

    </script>

    <!--Virtual machine-->

    <div id="machine" style="display: none;">

      <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
          <div class="navbar-item">
            <img src="assets/logon.png" width="112" height="28">
          </div>

          <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
          <div class="navbar-start">

            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link is-active activeMenu">
                Virtual Machine
              </a>

              <div class="navbar-dropdown">
                <a class="navbar-item" href="index.html">
                  8-bit; natural numbers
                </a>
                <a class="navbar-item" href="integer8.html">
                  8-bit; integers
                </a>
                <hr class="navbar-divider">
                <a class="navbar-item" href="natural16.html">
                  16-bit; natural numbers
                </a>
                <a class="navbar-item is-active">
                  16-bit; integers
                </a>
              </div>
            </div>


            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link">
                Documentations
              </a>

              <div class="navbar-dropdown">
                <a class="navbar-item" onclick="docsn8()">
                  8-bit; natural numbers
                </a>
                <a class="navbar-item" onclick="docsi8()">
                  8-bit; integers
                </a>
                <hr class="navbar-divider">
                <a class="navbar-item" onclick="docsn16()">
                  16-bit; natural numbers
                </a>
                <a class="navbar-item" onclick="docsi16()">
                  16-bit; integers
                </a>
              </div>
            </div>

            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link">
                More
              </a>

              <div class="navbar-dropdown">
                <a class="navbar-item" onclick="settings()">
                  Settings
                </a>
                <a class="navbar-item" onclick="about()">
                  About
                </a>
                <a class="navbar-item" href="mailto:vma@ladon.xyz">
                  Contact
                </a>
                <hr class="navbar-divider">
                <a class="navbar-item" onclick="openGithub()" target="_blank">
                  Report an issue
                </a>
              </div>
            </div>
          </div>

        </div>
      </nav>

      <div style="height: 94vh; width: 100vw;">
        <div class="columns">

          <div class="column is-3" style="margin-top: 2vh; margin-left: 2vw; height: 90vh; border: 0.5vh solid #AB50C345; border-radius: 10px;" id="codeArea1">
            <div class="title is-4" style="font-weight: bold;">
              Code to execute<div style="float: right;"><span class="tag is-warning">16-bit; &#8484;</span></div><br><br>
              <div>
                <button class="button" name="button" style="margin: 10px 2px 2px 2px;" onclick="runCode();">Run</button><button style="margin: 10px 2px 2px 2px;" class="button" name="button" onclick="openA()">Open</button><button style="margin: 10px 2px 2px 2px;" class="button" name="button" onclick="saveA()">Save</button><button style="margin: 10px 2px 2px 2px;" class="button" name="button" onclick="saveAs()">Save as</button>
              </div>
            </div>
            <div class="control">
              <textarea id="code" class="textarea has-fixed-size codearea" wrap="off" style="border: none !important; height: 69vh;"></textarea>
            </div>
          </div>

          <div class="column is-3" style="margin-top: 2vh; margin-left: 2vw; height: 90vh; border: 0.5vh solid #AB50C345; border-radius: 10px; display: none;" id="codeArea0">
            <div class="title is-4" style="font-weight: bold;">
              Code to execute<div style="float: right;"><span class="tag is-warning">16-bit; &#8484;</span></div><br><br>
              <div>
                <button class="button" name="button" style="margin: 10px 2px 2px 2px;" onclick="runCode();">Run</button><button style="margin: 10px 2px 2px 2px;" class="button" name="button" onclick="openAT()">Open</button><button style="margin: 10px 2px 2px 2px;" class="button" name="button" onclick="saveAT()">Save</button><button style="margin: 10px 2px 2px 2px;" class="button" name="button" onclick="saveAsT()">Save as</button>
              </div>
            </div>
            <div class="control" style="height: 69vh; overflow: auto;">
              <table class="table is-striped" style="width: 100%;">
                <tbody id="codeTable">
                  <tr id="area1">
                    <th style="font-size: 20px;">1</th>
                    <td><input class="input" type="text" id="row1"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="column is-8" style="margin-top: 2vh; margin-left: 2vw; height: 90vh; border: 0.5vh solid #AB50C345; border-radius: 10px;">
            <div class="title is-4" style="font-weight: bold;">
              Register <button class="button" name="button" style="float: right;" onclick="resetR()">Reset Register</button>
            </div>

            <table class="table is-bordered is-narrow is-fullwidth" style="width:100%" id="registert">
             <tr>
               <th>R0</th>
               <th>R1</th>
               <th>R2</th>
               <th>R3</th>
               <th>R4</th>
               <th>R5</th>
               <th>R6</th>
               <th>R7</th>
               <th>R8</th>
             </tr>
             <tr>
               <td id="r0">00000000 00000000</td>
               <td id="r1">00000000 00000000</td>
               <td id="r2">00000000 00000000</td>
               <td id="r3">00000000 00000000</td>
               <td id="r4">00000000 00000000</td>
               <td id="r5">00000000 00000000</td>
               <td id="r6">00000000 00000000</td>
               <td id="r7">00000000 00000000</td>
               <td id="r8">00000000 00000000</td>
             </tr>
             <tr>
               <td id="r0d" class="dezi">0</td>
               <td id="r1d" class="dezi">0</td>
               <td id="r2d" class="dezi">0</td>
               <td id="r3d" class="dezi">0</td>
               <td id="r4d" class="dezi">0</td>
               <td id="r5d" class="dezi">0</td>
               <td id="r6d" class="dezi">0</td>
               <td id="r7d" class="dezi">0</td>
               <td id="r8d" class="dezi">0</td>
             </tr>
             <tr>
               <th>R9</th>
               <th>R10</th>
               <th>R11</th>
               <th>R12</th>
               <th>R13</th>
               <th>R14</th>
               <th>R15</th>
               <th>SR</th>
               <th>BZ</th>
             </tr>
             <tr>
               <td id="r9">00000000 00000000</td>
               <td id="r10">00000000 00000000</td>
               <td id="r11">00000000 00000000</td>
               <td id="r12">00000000 00000000</td>
               <td id="r13">00000000 00000000</td>
               <td id="r14">00000000 00000000</td>
               <td id="r15">00000000 00000000</td>
               <td id="sr">00000000</td>
               <td id="bz">00000000</td>
             </tr>
             <tr>
               <td id="r9d" class="dezi">0</td>
               <td id="r10d" class="dezi">0</td>
               <td id="r11d" class="dezi">0</td>
               <td id="r12d" class="dezi">0</td>
               <td id="r13d" class="dezi">0</td>
               <td id="r14d" class="dezi">0</td>
               <td id="r15d" class="dezi">0</td>
               <td class="dezi"></td>
               <td id="bzd" class="dezi">0</td>
             </tr>
            </table>

            <div class="title is-4" style="font-weight: bold;">
              Log
              <div style="float: right;">
                <button class="button" name="button" style="margin-right: 15px;" onclick="saveL()">Save Log</button><button class="button" name="button" style="margin-right: 15px;" onclick="resetL()">Clear Log</button><button id="pause" onclick="pauseContinueCode()" class="button" name="button" style="margin-right: 15px;">Pause</button><button class="button" name="button" onclick="stopCode()">Stop</button>
              </div>
            </div>

            <div class="control">
              <textarea class="textarea has-fixed-size" style="width: 100%; height: 35vh;" id="log" readonly></textarea>
            </div>

          </div>

        </div>
      </div>

      <div id="about" class="modal">
        <div class="modal-background"></div>
        <div class="modal-content">
          <div class="box">
            <article class="media">
              <div class="media-left">
                <figure class="image is-64x64">
                  <img src="https://avatars3.githubusercontent.com/u/34038755?s=88&v=4" alt="Image">
                </figure>
              </div>
              <div class="media-content">
                <div class="content">
                  <p>
                    <strong>Albert Traut</strong> <small>alias: AlTrAugsburg</small> <small>E-Mail: vma@ladon.xyz</small>
                    <br>
                    I'm a student and hobby-programmer form Augsburg, Bavaria in Germany. Look at my other projects on <a onclick="openG()">Github</a>.
                    <br>Used software: <a onclick="openB()">Bulma(CSS-Framework)</a>; <a onclick="openE()">Electron(Framework for Desktop Application)</a>; <a onclick="openF()">Source Code Pro(Font of the code textarea)</a>; <a onclick="openM()">Moustrap(for keyboard shortcuts)</a>
                  </p>
                </div>
              </div>
            </article>
          </div>
        </div>
        <button class="modal-close is-large" aria-label="close" onclick="aboutc()"></button>
      </div>

      <div id="documentationN8" class="modal">
        <div class="modal-background"></div>
        <div class="modal-content">
          <div class="box">
            <div class="content">
              Befehle im Ladon Assembler Code (.lasm)<br>
              <br>
              LOAD x  -- Kopiert den Wert in Rx (außer R0), nach R0 <br>
              DLOAD i -- Lädt nmittelbar die Zahl i in R0 <br>
              STORE x -- Kopiert den Wert in R0 nach Rx (außer R0) <br>
              ADD x   -- Addiert den Wert in Rx (außer R0) zum Wert in R0 und legt das Ergebnis in R0 ab <br>
              SUB x   -- Subtrahiert den Wert in Rx (außer R0) vom Wert in R0 und legt das Ergebnis in R0 ab <br>
              MULT x  -- Multipliziert den Wert in Rx (außer R0) mit dem Wert in R0 und legt das Ergebnis in R0 ab <br>
              DIV x   -- Dividiert den Wert in R0 durch den Wert in Rx (außer R0) und legt das Ergebnis in R0 ab <br>
              JUMP n  -- Unbedingeter Sprung zum n-ten Befehl, d.h. der n-te Befehl wird danach ausgeführt <br>
              JGE n   -- Falls der Wert in R0 größer oder gleich null ist (Greater or Equal) wird zum n-ten Befehl gesprungen <br>
              JGT n   -- Falls der Wert in R0 größer als null ist (Greater Than) wird zum n-ten Befehl gesprungen <br>
              JLE n   -- Falls der Wert in R0 kleiner oder gleich null ist (Less or Equal) wird zum n-ten Befehl gesprungen <br>
              JLT n   -- Falls der Wert in R0 kleiner als null ist (Less Than) wird zum n-ten Befehl gesprungen <br>
              JEQ n   -- Falls der Wert in R0 gleich null ist (EQuals) wird zum n-ten Befehl gesprungen <br>
              JNE n   -- Falls der Wert in R0 nicht gleich null ist (Not Equals) wird zum n-ten Befehl gesprungen <br>
              END     -- Dieser Befehl beendet den Programmablauf und muss am Ende jedes Programms stehen <br>
              <br>
              Jeder Befehl muss auf einen Strichpunkt enden, auf welchen in der gleichen Zeile noch ein Kommentar folgen kann.<br>
              <br>
              Nach jedem Befehl wird der Wert im Befehlszähler um 1 erhöht, außer bei den Sprüngen, da wird er an den Wert angepasst,
              sollte die Bedingung erfüllt sein bzw. wenn es sich um einen bedingungslosen Sprung handelt,
              ansonsten wird auch dort Befehlszählerwert um 1 erhöht.
              Der Befehlszähler beginnt bei 0 und zeigt, welcher Befehl als nächstes ausgeführt werden soll. <br>
              <br>
              Bei R0 handelt es sich in der Fachsprache um einen Akkumulator. <br>
              <br>
              Negative Wert sowie Werte über 255 werden nicht unterstützt. <br>
              <br>
              Das teilen durch 0 wird nicht unterstützt. <br>
              <br>
              Der Code wird beim Ausführen auf Syntaxfehler überprüft. Sollte ein Fehler jeglicher Art auftauchen wird die Ausführung
              des Codes unterbrochen.<br>
              <br>
              Der Code kann auch in einem beliebigem Editor geschrieben werden. Es muss lediglich darauf geachtet werden, dass es
              als .lasm-Datei gespeichert wird und die Datei nach UTF-8 codiert wird.<br>
              <br>
              Das Statusregister SR beschreibt den Status des letzten Ergebnisses eines Befehls:<br>
              <br>
              - 00000000 steht für eine psoitve Zahl zwischen 1 und 255 <br>
              - 10000000 steht für eine Zahl größer als 255 (Overflow) <br>
              - 00000001 steht für eine negative Zahl <br>
              - 10000001 steht für den Wert 0 <br>
              <br>
              Sollte in R0 eine negative Zahl bzw. eine Zahl größer 255 gespeichert werden, wird es entsprechend im Statusregister vermerkt
              und R0 wird der Wert 0 zugewiesen.<br>
              <br>
              Das Statusregister wird zu Beginn des nächsten Befehls zurückgesetzt, außer bei einem JUMP-Befehl jeglicher Art. Dort wird er
              zuerst verarbeitet und dann zurückgesetzt. Ansonsten wird nach jedem Befehl bzw. während des Befehls das Statusregister entsprechend
              beschrieben.<br>
              <br>
              Verbesserungsvorschläge für diese Seite gerne an <a href="mailto:vma@ladon.xyz">vma@ladon.xyz</a> senden.
            </div>
          </div>
        </div>
        <button class="modal-close is-large" aria-label="close" onclick="docsn8c()"></button>
      </div>

      <div id="documentationI8" class="modal">
        <div class="modal-background"></div>
        <div class="modal-content">
          <div class="box">
            <div class="content">
              Befehle im Ladon Assembler Code (.lasm)<br>
              <br>
              LOAD x  -- Kopiert den Wert in Rx (außer R0), nach R0 <br>
              DLOAD i -- Lädt nmittelbar die Zahl i in R0 <br>
              STORE x -- Kopiert den Wert in R0 nach Rx (außer R0) <br>
              ADD x   -- Addiert den Wert in Rx (außer R0) zum Wert in R0 und legt das Ergebnis in R0 ab <br>
              SUB x   -- Subtrahiert den Wert in Rx (außer R0) vom Wert in R0 und legt das Ergebnis in R0 ab <br>
              MULT x  -- Multipliziert den Wert in Rx (außer R0) mit dem Wert in R0 und legt das Ergebnis in R0 ab <br>
              DIV x   -- Dividiert den Wert in R0 durch den Wert in Rx (außer R0) und legt das Ergebnis in R0 ab <br>
              JUMP n  -- Unbedingeter Sprung zum n-ten Befehl, d.h. der n-te Befehl wird danach ausgeführt <br>
              JGE n   -- Falls der Wert in R0 größer oder gleich null ist (Greater or Equal) wird zum n-ten Befehl gesprungen <br>
              JGT n   -- Falls der Wert in R0 größer als null ist (Greater Than) wird zum n-ten Befehl gesprungen <br>
              JLE n   -- Falls der Wert in R0 kleiner oder gleich null ist (Less or Equal) wird zum n-ten Befehl gesprungen <br>
              JLT n   -- Falls der Wert in R0 kleiner als null ist (Less Than) wird zum n-ten Befehl gesprungen <br>
              JEQ n   -- Falls der Wert in R0 gleich null ist (EQuals) wird zum n-ten Befehl gesprungen <br>
              JNE n   -- Falls der Wert in R0 nicht gleich null ist (Not Equals) wird zum n-ten Befehl gesprungen <br>
              END     -- Dieser Befehl beendet den Programmablauf und muss am Ende jedes Programms stehen <br>
              <br>
              Jeder Befehl muss auf einen Strichpunkt enden, auf welchen in der gleichen Zeile noch ein Kommentar folgen kann.<br>
              <br>
              Nach jedem Befehl wird der Wert im Befehlszähler um 1 erhöht, außer bei den Sprüngen, da wird er an den Wert angepasst,
              sollte die Bedingung erfüllt sein bzw. wenn es sich um einen bedingungslosen Sprung handelt,
              ansonsten wird auch dort Befehlszählerwert um 1 erhöht.
              Der Befehlszähler beginnt bei 0 und zeigt, welcher Befehl als nächstes ausgeführt werden soll. <br>
              <br>
              Bei R0 handelt es sich in der Fachsprache um einen Akkumulator. <br>
              <br>
              Es werden nur ganze Zahlen von -128 bis 127 unterstützt. <br>
              <br>
              Das teilen durch 0 wird nicht unterstützt. <br>
              <br>
              Der Code wird beim Ausführen auf Syntaxfehler überprüft. Sollte ein Fehler jeglicher Art auftauchen wird die Ausführung
              des Codes unterbrochen.<br>
              <br>
              Der Code kann auch in einem beliebigem Editor geschrieben werden. Es muss lediglich darauf geachtet werden, dass es
              als .lasm-Datei gespeichert wird und die Datei nach UTF-8 codiert wird.<br>
              <br>
              Das Statusregister SR beschreibt den Status des letzten Ergebnisses eines Befehls:<br>
              <br>
              - 00000000 steht für eine psoitve Zahl zwischen 1 und 127 <br>
              - 10000000 steht für eine Zahl größer als 127 (Positiver Overflow) <br>
              - 00000011 steht für eine Zahl kleiner -128 (Negativer Overflow) <br>
              - 00000001 steht für eine negative Zahl <br>
              - 10000001 steht für den Wert 0 <br>
              <br>
              Sollte in R0 eine Zahl kleiner -128 bzw. eine Zahl größer 127 gespeichert werden, wird es entsprechend im Statusregister vermerkt
              und R0 wird der Wert 0 zugewiesen.<br>
              <br>
              Das Statusregister wird zu Beginn des nächsten Befehls zurückgesetzt, außer bei einem JUMP-Befehl jeglicher Art. Dort wird er
              zuerst verarbeitet und dann zurückgesetzt. Ansonsten wird nach jedem Befehl bzw. während des Befehls das Statusregister entsprechend
              beschrieben.<br>
              <br>
              Verbesserungsvorschläge für diese Seite gerne an <a href="mailto:vma@ladon.xyz">vma@ladon.xyz</a> senden.
            </div>
          </div>
        </div>
        <button class="modal-close is-large" aria-label="close" onclick="docsi8c()"></button>
      </div>

      <div id="documentationN16" class="modal">
        <div class="modal-background"></div>
        <div class="modal-content">
          <div class="box">
            <div class="content">
              Befehle im Ladon Assembler Code (.lasm)<br>
              <br>
              LOAD x  -- Kopiert den Wert in Rx (außer R0), nach R0 <br>
              DLOAD i -- Lädt nmittelbar die Zahl i in R0 <br>
              STORE x -- Kopiert den Wert in R0 nach Rx (außer R0) <br>
              ADD x   -- Addiert den Wert in Rx (außer R0) zum Wert in R0 und legt das Ergebnis in R0 ab <br>
              SUB x   -- Subtrahiert den Wert in Rx (außer R0) vom Wert in R0 und legt das Ergebnis in R0 ab <br>
              MULT x  -- Multipliziert den Wert in Rx (außer R0) mit dem Wert in R0 und legt das Ergebnis in R0 ab <br>
              DIV x   -- Dividiert den Wert in R0 durch den Wert in Rx (außer R0) und legt das Ergebnis in R0 ab <br>
              JUMP n  -- Unbedingeter Sprung zum n-ten Befehl, d.h. der n-te Befehl wird danach ausgeführt <br>
              JGE n   -- Falls der Wert in R0 größer oder gleich null ist (Greater or Equal) wird zum n-ten Befehl gesprungen <br>
              JGT n   -- Falls der Wert in R0 größer als null ist (Greater Than) wird zum n-ten Befehl gesprungen <br>
              JLE n   -- Falls der Wert in R0 kleiner oder gleich null ist (Less or Equal) wird zum n-ten Befehl gesprungen <br>
              JLT n   -- Falls der Wert in R0 kleiner als null ist (Less Than) wird zum n-ten Befehl gesprungen <br>
              JEQ n   -- Falls der Wert in R0 gleich null ist (EQuals) wird zum n-ten Befehl gesprungen <br>
              JNE n   -- Falls der Wert in R0 nicht gleich null ist (Not Equals) wird zum n-ten Befehl gesprungen <br>
              END     -- Dieser Befehl beendet den Programmablauf und muss am Ende jedes Programms stehen <br>
              <br>
              Jeder Befehl muss auf einen Strichpunkt enden, auf welchen in der gleichen Zeile noch ein Kommentar folgen kann.<br>
              <br>
              Nach jedem Befehl wird der Wert im Befehlszähler um 1 erhöht, außer bei den Sprüngen, da wird er an den Wert angepasst,
              sollte die Bedingung erfüllt sein bzw. wenn es sich um einen bedingungslosen Sprung handelt,
              ansonsten wird auch dort Befehlszählerwert um 1 erhöht.
              Der Befehlszähler beginnt bei 0 und zeigt, welcher Befehl als nächstes ausgeführt werden soll. <br>
              <br>
              Bei R0 handelt es sich in der Fachsprache um einen Akkumulator. <br>
              <br>
              Negative Wert sowie Werte über 65535 werden nicht unterstützt. <br>
              <br>
              Das teilen durch 0 wird nicht unterstützt. <br>
              <br>
              Der Code wird beim Ausführen auf Syntaxfehler überprüft. Sollte ein Fehler jeglicher Art auftauchen wird die Ausführung
              des Codes unterbrochen.<br>
              <br>
              Der Code kann auch in einem beliebigem Editor geschrieben werden. Es muss lediglich darauf geachtet werden, dass es
              als .lasm-Datei gespeichert wird und die Datei nach UTF-8 codiert wird.<br>
              <br>
              Das Statusregister SR beschreibt den Status des letzten Ergebnisses eines Befehls:<br>
              <br>
              - 00000000 steht für eine psoitve Zahl zwischen 1 und 65535 <br>
              - 10000000 steht für eine Zahl größer als 65535 (Overflow) <br>
              - 00000001 steht für eine negative Zahl <br>
              - 10000001 steht für den Wert 0 <br>
              <br>
              Sollte in R0 eine negative Zahl bzw. eine Zahl größer 65535 gespeichert werden, wird es entsprechend im Statusregister vermerkt
              und R0 wird der Wert 0 zugewiesen.<br>
              <br>
              Das Statusregister wird zu Beginn des nächsten Befehls zurückgesetzt, außer bei einem JUMP-Befehl jeglicher Art. Dort wird er
              zuerst verarbeitet und dann zurückgesetzt. Ansonsten wird nach jedem Befehl bzw. während des Befehls das Statusregister entsprechend
              beschrieben.<br>
              <br>
              Verbesserungsvorschläge für diese Seite gerne an <a href="mailto:vma@ladon.xyz">vma@ladon.xyz</a> senden.
            </div>
          </div>
        </div>
        <button class="modal-close is-large" aria-label="close" onclick="docsn16c()"></button>
      </div>

      <div id="documentationI16" class="modal">
        <div class="modal-background"></div>
        <div class="modal-content">
          <div class="box">
            <div class="content">
              Befehle im Ladon Assembler Code (.lasm)<br>
              <br>
              LOAD x  -- Kopiert den Wert in Rx (außer R0), nach R0 <br>
              DLOAD i -- Lädt nmittelbar die Zahl i in R0 <br>
              STORE x -- Kopiert den Wert in R0 nach Rx (außer R0) <br>
              ADD x   -- Addiert den Wert in Rx (außer R0) zum Wert in R0 und legt das Ergebnis in R0 ab <br>
              SUB x   -- Subtrahiert den Wert in Rx (außer R0) vom Wert in R0 und legt das Ergebnis in R0 ab <br>
              MULT x  -- Multipliziert den Wert in Rx (außer R0) mit dem Wert in R0 und legt das Ergebnis in R0 ab <br>
              DIV x   -- Dividiert den Wert in R0 durch den Wert in Rx (außer R0) und legt das Ergebnis in R0 ab <br>
              JUMP n  -- Unbedingeter Sprung zum n-ten Befehl, d.h. der n-te Befehl wird danach ausgeführt <br>
              JGE n   -- Falls der Wert in R0 größer oder gleich null ist (Greater or Equal) wird zum n-ten Befehl gesprungen <br>
              JGT n   -- Falls der Wert in R0 größer als null ist (Greater Than) wird zum n-ten Befehl gesprungen <br>
              JLE n   -- Falls der Wert in R0 kleiner oder gleich null ist (Less or Equal) wird zum n-ten Befehl gesprungen <br>
              JLT n   -- Falls der Wert in R0 kleiner als null ist (Less Than) wird zum n-ten Befehl gesprungen <br>
              JEQ n   -- Falls der Wert in R0 gleich null ist (EQuals) wird zum n-ten Befehl gesprungen <br>
              JNE n   -- Falls der Wert in R0 nicht gleich null ist (Not Equals) wird zum n-ten Befehl gesprungen <br>
              END     -- Dieser Befehl beendet den Programmablauf und muss am Ende jedes Programms stehen <br>
              <br>
              Jeder Befehl muss auf einen Strichpunkt enden, auf welchen in der gleichen Zeile noch ein Kommentar folgen kann.<br>
              <br>
              Nach jedem Befehl wird der Wert im Befehlszähler um 1 erhöht, außer bei den Sprüngen, da wird er an den Wert angepasst,
              sollte die Bedingung erfüllt sein bzw. wenn es sich um einen bedingungslosen Sprung handelt,
              ansonsten wird auch dort Befehlszählerwert um 1 erhöht.
              Der Befehlszähler beginnt bei 0 und zeigt, welcher Befehl als nächstes ausgeführt werden soll. <br>
              <br>
              Bei R0 handelt es sich in der Fachsprache um einen Akkumulator. <br>
              <br>
              Es werden nur ganze Zahlen von -32768 bis 32767 unterstützt. <br>
              <br>
              Das teilen durch 0 wird nicht unterstützt. <br>
              <br>
              Der Code wird beim Ausführen auf Syntaxfehler überprüft. Sollte ein Fehler jeglicher Art auftauchen wird die Ausführung
              des Codes unterbrochen.<br>
              <br>
              Der Code kann auch in einem beliebigem Editor geschrieben werden. Es muss lediglich darauf geachtet werden, dass es
              als .lasm-Datei gespeichert wird und die Datei nach UTF-8 codiert wird.<br>
              <br>
              Das Statusregister SR beschreibt den Status des letzten Ergebnisses eines Befehls:<br>
              <br>
              - 00000000 steht für eine psoitve Zahl zwischen 1 und 32767 <br>
              - 10000000 steht für eine Zahl größer als 32767 (Positiver Overflow) <br>
              - 00000011 steht für eine Zahl kleiner -32768 (Negativer Overflow) <br>
              - 00000001 steht für eine negative Zahl <br>
              - 10000001 steht für den Wert 0 <br>
              <br>
              Sollte in R0 eine Zahl kleiner -32768 bzw. eine Zahl größer 32767 gespeichert werden, wird es entsprechend im Statusregister vermerkt
              und R0 wird der Wert 0 zugewiesen.<br>
              <br>
              Das Statusregister wird zu Beginn des nächsten Befehls zurückgesetzt, außer bei einem JUMP-Befehl jeglicher Art. Dort wird er
              zuerst verarbeitet und dann zurückgesetzt. Ansonsten wird nach jedem Befehl bzw. während des Befehls das Statusregister entsprechend
              beschrieben.<br>
              <br>
              Verbesserungsvorschläge für diese Seite gerne an <a href="mailto:vma@ladon.xyz">vma@ladon.xyz</a> senden.
            </div>
          </div>
        </div>
        <button class="modal-close is-large" aria-label="close" onclick="docsi16c()"></button>
      </div>

      <div class="modal" id="settings">
        <div class="modal-background"></div>
        <div class="modal-content">
          <div class="box">

          <h1 class="title is-2">Settings</h1>
          <form class="" action="javascript:saveS();">

            <div class="field">
              <label class="label">Delay of the execution</label>
              <div class="control">
                <div class="select">
                  <select id="delayS">
                    <option value="1">1 second(default)</option>
                    <option value="2">0.5 seconds</option>
                    <option value="0">0 seconds &#x26A0;</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="field">
              <label class="label">Code Area mode</label>
              <div class="control">
                <div class="select">
                  <select id="codeAreaS">
                    <option value="1">one-area-mode(default)</option>
                    <option value="0">table-mode</option>
                  </select>
                </div>
              </div>
            </div>

            <button class="button is-primary" type="submit" name="button">Save settings</button>

          </form>

          </div>
        </div>
        <button class="modal-close is-large" aria-label="close" onclick="settingsc()"></button>
      </div>

    </div>

    <script type="text/javascript">
      function about() {
        document.getElementById("about").classList.add("is-active");
      }
      function aboutc() {
        document.getElementById("about").classList.remove("is-active");
      }
      function docsn8() {
        document.getElementById("documentationN8").classList.add("is-active");
      }
      function docsn8c() {
        document.getElementById("documentationN8").classList.remove("is-active");
      }
      function docsi8() {
        document.getElementById("documentationI8").classList.add("is-active");
      }
      function docsi8c() {
        document.getElementById("documentationI8").classList.remove("is-active");
      }
      function docsn16() {
        document.getElementById("documentationN16").classList.add("is-active");
      }
      function docsn16c() {
        document.getElementById("documentationN16").classList.remove("is-active");
      }
      function docsi16() {
        document.getElementById("documentationI16").classList.add("is-active");
      }
      function docsi16c() {
        document.getElementById("documentationI16").classList.remove("is-active");
      }
      function settings() {
        document.getElementById("settings").classList.add("is-active");
      }
      function settingsc() {
        document.getElementById("settings").classList.remove("is-active");
      }
      function resetR() {
        if(state != "stop"){
          return;
        }
        document.getElementById("r0").innerHTML = "00000000 00000000";
        document.getElementById("r1").innerHTML = "00000000 00000000";
        document.getElementById("r2").innerHTML = "00000000 00000000";
        document.getElementById("r3").innerHTML = "00000000 00000000";
        document.getElementById("r4").innerHTML = "00000000 00000000";
        document.getElementById("r5").innerHTML = "00000000 00000000";
        document.getElementById("r6").innerHTML = "00000000 00000000";
        document.getElementById("r7").innerHTML = "00000000 00000000";
        document.getElementById("r8").innerHTML = "00000000 00000000";
        document.getElementById("r9").innerHTML = "00000000 00000000";
        document.getElementById("r10").innerHTML = "00000000 00000000";
        document.getElementById("r11").innerHTML = "00000000 00000000";
        document.getElementById("r12").innerHTML = "00000000 00000000";
        document.getElementById("r13").innerHTML = "00000000 00000000";
        document.getElementById("r14").innerHTML = "00000000 00000000";
        document.getElementById("r15").innerHTML = "00000000 00000000";
        document.getElementById("sr").innerHTML = "00000000";
        document.getElementById("bz").innerHTML = "00000000";
        document.getElementById("r0d").innerHTML = "0";
        document.getElementById("r1d").innerHTML = "0";
        document.getElementById("r2d").innerHTML = "0";
        document.getElementById("r3d").innerHTML = "0";
        document.getElementById("r4d").innerHTML = "0";
        document.getElementById("r5d").innerHTML = "0";
        document.getElementById("r6d").innerHTML = "0";
        document.getElementById("r7d").innerHTML = "0";
        document.getElementById("r8d").innerHTML = "0";
        document.getElementById("r9d").innerHTML = "0";
        document.getElementById("r10d").innerHTML = "0";
        document.getElementById("r11d").innerHTML = "0";
        document.getElementById("r12d").innerHTML = "0";
        document.getElementById("r13d").innerHTML = "0";
        document.getElementById("r14d").innerHTML = "0";
        document.getElementById("r15d").innerHTML = "0";
        document.getElementById("bzd").innerHTML = "0";

      }
      function resetL() {
        if(state == "stop"){

          document.getElementById("log").value = "";

        }
      }

      setTimeout(function(){

        document.getElementById("loading").style.display = "none";
        document.getElementById("machine").style.display = "inline";

      }, 1000);

      //Anpassung des Einstellungsfenster an die aktuellen Einstellungen
      if(delay != "1"){
        document.getElementById("delayS").value = delay;
      }
      if(codeArea != "1"){
        document.getElementById("codeAreaS").value = codeArea;
      }
      //Delay Zeit in Millisekunden

      var delayT = 1000;
      if (delay == "0") {
        delayT = 0;
      }
      if(delay == "2"){
        delayT = 500;
      }

      if(codeArea == "0"){
        document.getElementById("codeArea1").style.display = "none";
        document.getElementById("codeArea0").style.display = "inline";
      }

      document.addEventListener("keyup", function(event) {
        // Number 13 is the "Enter" key on the keyboard
        if (event.keyCode === 13) {
          addRow();
        }
        if (event.keyCode === 8) {
          removeRow();
        }
      });

    </script>

  </body>
</html>
